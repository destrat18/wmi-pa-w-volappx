import sympy as sym
import time

g = """((((((3636950418145529/4503599627370496 * x_0) + (-6723008774217/281474976710656 * x_0)) * ((3636950418145529/4503599627370496 * x_0) + (-6723008774217/281474976710656 * x_0))) + (((-3621819115310211/4503599627370496 * x_2 * (x_1 ^ 0.0) * x_0) + (-67853919770763/281474976710656 * (x_2 ^ 0.0))) * ((-3621819115310211/4503599627370496 * x_2 * (x_1 ^ 0.0) * x_0) + (-67853919770763/281474976710656 * (x_2 ^ 0.0)))) + (((-332471625248271/562949953421312 * (x_1 ^ 0.0)) + (813517380213009/2251799813685248 * (x_0 ^ 0.0)) + (-3116253104649981/4503599627370496 * (x_0 ^ 2.0) * (x_1 ^ 2.0))) * ((-332471625248271/562949953421312 * (x_1 ^ 0.0)) + (813517380213009/2251799813685248 * (x_0 ^ 0.0)) + (-3116253104649981/4503599627370496 * (x_0 ^ 2.0) * (x_1 ^ 2.0)))) + ((-2604040280225/17592186044416 + (-31954435801097/140737488355328 * x_1 * (x_0 ^ 0.0) * (x_2 ^ 0.0))) * (-2604040280225/17592186044416 + (-31954435801097/140737488355328 * x_1 * (x_0 ^ 0.0) * (x_2 ^ 0.0))))) + ((((1918740468160525/4503599627370496 * (x_0 ^ 2.0) * x_2 * (x_1 ^ 2.0)) * (1918740468160525/4503599627370496 * (x_0 ^ 2.0) * x_2 * (x_1 ^ 2.0))) + (((305632749257159/562949953421312 * (x_0 ^ 2.0) * x_2 * x_1) + (-4001267433586569/4503599627370496 * (x_1 ^ 2.0) * (x_2 ^ 2.0))) * ((305632749257159/562949953421312 * (x_0 ^ 2.0) * x_2 * x_1) + (-4001267433586569/4503599627370496 * (x_1 ^ 2.0) * (x_2 ^ 2.0)))) + ((-1831388624633977/2251799813685248 * (x_1 ^ 2.0) * (x_0 ^ 0.0) * (x_2 ^ 2.0)) * (-1831388624633977/2251799813685248 * (x_1 ^ 2.0) * (x_0 ^ 0.0) * (x_2 ^ 2.0))) + ((-846169442992127/2251799813685248 + (2666147382158719/4503599627370496 * (x_0 ^ 0.0) * (x_1 ^ 0.0)) + -1052109151042041/4503599627370496) * (-846169442992127/2251799813685248 + (2666147382158719/4503599627370496 * (x_0 ^ 0.0) * (x_1 ^ 0.0)) + -1052109151042041/4503599627370496))) * ((1560120389691009/4503599627370496 * 1560120389691009/4503599627370496) + (2245455778259817/2251799813685248 * 2245455778259817/2251799813685248)))) * (((((((-1738065965112161/4503599627370496 * x_0 * (x_1 ^ 2.0) * (x_2 ^ 2.0)) + (-3811969249941543/4503599627370496 * (x_1 ^ 0.0) * x_2)) * ((-1738065965112161/4503599627370496 * x_0 * (x_1 ^ 2.0) * (x_2 ^ 2.0)) + (-3811969249941543/4503599627370496 * (x_1 ^ 0.0) * x_2))) + ((470007453777429/2251799813685248 * (x_1 ^ 0.0) * (x_2 ^ 2.0)) * (470007453777429/2251799813685248 * (x_1 ^ 0.0) * (x_2 ^ 2.0))) + (((-3911214466442337/4503599627370496 * (x_2 ^ 2.0) * x_1) + (-3202865186712017/4503599627370496 * (x_2 ^ 2.0) * (x_0 ^ 2.0) * (x_1 ^ 0.0))) * ((-3911214466442337/4503599627370496 * (x_2 ^ 2.0) * x_1) + (-3202865186712017/4503599627370496 * (x_2 ^ 2.0) * (x_0 ^ 2.0) * (x_1 ^ 0.0)))) + (((-3964774705394031/4503599627370496 * (x_1 ^ 2.0) * x_0 * (x_2 ^ 2.0)) + (-1005170566656697/2251799813685248 * x_2 * x_0)) * ((-3964774705394031/4503599627370496 * (x_1 ^ 2.0) * x_0 * (x_2 ^ 2.0)) + (-1005170566656697/2251799813685248 * x_2 * x_0)))) * (((-3285257329513309/4503599627370496 * (x_0 ^ 0.0) * (x_1 ^ 0.0) * (x_2 ^ 2.0)) * (-3285257329513309/4503599627370496 * (x_0 ^ 0.0) * (x_1 ^ 0.0) * (x_2 ^ 2.0))) + (((516968309486323/562949953421312 * (x_2 ^ 2.0) * (x_0 ^ 2.0)) + (2104856426791683/4503599627370496 * x_2 * x_1 * x_0) + (-612091205591175/2251799813685248 * x_1)) * ((516968309486323/562949953421312 * (x_2 ^ 2.0) * (x_0 ^ 2.0)) + (2104856426791683/4503599627370496 * x_2 * x_1 * x_0) + (-612091205591175/2251799813685248 * x_1))) + ((-2704087612168591/4503599627370496 + (-545318290065747/562949953421312 * (x_1 ^ 0.0) * x_2 * x_0)) * (-2704087612168591/4503599627370496 + (-545318290065747/562949953421312 * (x_1 ^ 0.0) * x_2 * x_0))) + (((1123749692657165/1125899906842624 * x_1 * (x_0 ^ 0.0)) + (-313953254621505/4503599627370496 * (x_2 ^ 0.0)) + (-1323962218914309/4503599627370496 * (x_2 ^ 0.0))) * ((1123749692657165/1125899906842624 * x_1 * (x_0 ^ 0.0)) + (-313953254621505/4503599627370496 * (x_2 ^ 0.0)) + (-1323962218914309/4503599627370496 * (x_2 ^ 0.0)))))) * (((((79429499144143/1125899906842624 * (x_0 ^ 2.0) * x_2 * (x_1 ^ 0.0)) + (-2603044182038637/4503599627370496 * (x_1 ^ 2.0) * (x_0 ^ 0.0) * x_2) + -570962858744553/1125899906842624) * ((79429499144143/1125899906842624 * (x_0 ^ 2.0) * x_2 * (x_1 ^ 0.0)) + (-2603044182038637/4503599627370496 * (x_1 ^ 2.0) * (x_0 ^ 0.0) * x_2) + -570962858744553/1125899906842624)) + (-4202009629086099/4503599627370496 * -4202009629086099/4503599627370496)) * ((((4163507056412513/4503599627370496 * (x_0 ^ 0.0)) + (-97776869520831/140737488355328 * (x_1 ^ 2.0) * x_0)) * ((4163507056412513/4503599627370496 * (x_0 ^ 0.0)) + (-97776869520831/140737488355328 * (x_1 ^ 2.0) * x_0))) + (((753632308672905/4503599627370496 * (x_1 ^ 0.0) * (x_2 ^ 2.0) * x_0) + (46020322535787/562949953421312 * (x_2 ^ 0.0) * (x_1 ^ 2.0) * (x_0 ^ 2.0))) * ((753632308672905/4503599627370496 * (x_1 ^ 0.0) * (x_2 ^ 2.0) * x_0) + (46020322535787/562949953421312 * (x_2 ^ 0.0) * (x_1 ^ 2.0) * (x_0 ^ 2.0))))))) * ((((((-3208758392882991/4503599627370496 * x_2) + (264522249108979/1125899906842624 * (x_2 ^ 2.0) * (x_1 ^ 0.0) * (x_0 ^ 0.0)) + (-1017532750666945/1125899906842624 * (x_2 ^ 2.0))) * ((-3208758392882991/4503599627370496 * x_2) + (264522249108979/1125899906842624 * (x_2 ^ 2.0) * (x_1 ^ 0.0) * (x_0 ^ 0.0)) + (-1017532750666945/1125899906842624 * (x_2 ^ 2.0)))) + (((2034683978749689/4503599627370496 * (x_0 ^ 2.0) * (x_1 ^ 0.0)) + (-3215636462832027/4503599627370496 * x_2 * (x_0 ^ 0.0)) + -4426208938269413/4503599627370496) * ((2034683978749689/4503599627370496 * (x_0 ^ 2.0) * (x_1 ^ 0.0)) + (-3215636462832027/4503599627370496 * x_2 * (x_0 ^ 0.0)) + -4426208938269413/4503599627370496)) + ((2804925276565489/4503599627370496 * (x_0 ^ 0.0) * x_2 * (x_1 ^ 0.0)) * (2804925276565489/4503599627370496 * (x_0 ^ 0.0) * x_2 * (x_1 ^ 0.0)))) + (((-629804016034873/4503599627370496 + (-2234756862976873/4503599627370496 * x_1 * (x_0 ^ 0.0) * (x_2 ^ 2.0))) * (-629804016034873/4503599627370496 + (-2234756862976873/4503599627370496 * x_1 * (x_0 ^ 0.0) * (x_2 ^ 2.0)))) + (((-3916830447941385/4503599627370496 * (x_0 ^ 0.0) * (x_1 ^ 0.0)) + 130975056692297/4503599627370496) * ((-3916830447941385/4503599627370496 * (x_0 ^ 0.0) * (x_1 ^ 0.0)) + 130975056692297/4503599627370496)) + ((-182353518636393/281474976710656 + (1358419370290025/4503599627370496 * (x_2 ^ 2.0)) + (-738863723100783/4503599627370496 * (x_0 ^ 0.0) * (x_1 ^ 0.0))) * (-182353518636393/281474976710656 + (1358419370290025/4503599627370496 * (x_2 ^ 2.0)) + (-738863723100783/4503599627370496 * (x_0 ^ 0.0) * (x_1 ^ 0.0)))))) + (((314477278453859/562949953421312 * 314477278453859/562949953421312) + ((-1183183859957701/2251799813685248 * x_1) * (-1183183859957701/2251799813685248 * x_1)) + ((2709120741953599/4503599627370496 * x_1 * (x_0 ^ 0.0)) * (2709120741953599/4503599627370496 * x_1 * (x_0 ^ 0.0))) + (((252411983502379/1125899906842624 * (x_0 ^ 0.0) * (x_2 ^ 0.0) * (x_1 ^ 2.0)) + -182855972744753/1125899906842624) * ((252411983502379/1125899906842624 * (x_0 ^ 0.0) * (x_2 ^ 0.0) * (x_1 ^ 2.0)) + -182855972744753/1125899906842624))) + (((2490149132330699/4503599627370496 * x_0 * (x_2 ^ 2.0) * (x_1 ^ 2.0)) + (-559123200257145/1125899906842624 * (x_1 ^ 0.0) * x_2) + (4375205068651961/4503599627370496 * (x_1 ^ 2.0) * (x_0 ^ 0.0))) * ((2490149132330699/4503599627370496 * x_0 * (x_2 ^ 2.0) * (x_1 ^ 2.0)) + (-559123200257145/1125899906842624 * (x_1 ^ 0.0) * x_2) + (4375205068651961/4503599627370496 * (x_1 ^ 2.0) * (x_0 ^ 0.0))))))))"""

start_time = time.time()

g = sym.parse_expr(g.replace("^", "**"))
print(f"################ Parsed({time.time()-start_time:.2f}s): ##################")
print(g)
print("Total degree:", sym.total_degree(g))

g = sym.expand(g)
print(f"################ Expanded({time.time()-start_time:.2f}s): ##################")
print(g)

print("Total degree:", sym.total_degree(g))

g = sym.simplify(g)
print(f"################ Simplified({time.time()-start_time:.2f}s): ##################")
print(g)
print("Total degree:", sym.total_degree(g))